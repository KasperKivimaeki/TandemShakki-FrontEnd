<html>
  <head>
    <link href="example.css" rel="stylesheet">
    <link href="base.css" rel="stylesheet">
    <link href="theme.css" rel="stylesheet">

    <link href="bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Lato|Open+Sans|Roboto" rel="stylesheet">

    <script src="chessground.js"></script>
    <script src="chess.min.js"></script>
  </head>
  <body>
    <script>
      function chessToDests(chess) {
        var dests = {};
        chess.SQUARES.forEach(function(s) {
          var ms = chess.moves({square: s, verbose: true});
          if (ms.length) dests[s] = ms.map(function(m) { return m.to; });
        });
        return dests;
      }
      function chessToColor(chess) {
        return (chess.turn() == "w") ? "white" : "black";
      }
    </script>

    <nav class="navbar navbar-toggleable-md navbar-inverse bg-inverse static-top">
      <a class="navbar-brand" href="#">Tandemshakki</a>

      <div class="nav navbar-nav navbar-right" id="navbarsExampleDefault">
        <ul class="nav navbar-nav navbar-right">
          <li class="nav-item active">
            <a class="nav-link" href="#">Etusivu <span class="sr-only">(current)</span></a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#">Selaa pelej√§</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#">Asetukset</a>
          </li>
        </ul>
      </div>
    </nav>

  <div class="flex-row d-flex justify-content-center col-md-12" style="padding-top:60px">
    <div style="position:relative;"> 
	<div style="top:0;position:relative;">
	    <h3 class="col-md-12" style="text-align:left;color:white;">Maxime Vachier-Lagrave</h3>
	    <h3>00:14</h3>
	</div>
	<div style="bottom:0;position:absolute;">
	    <h3>01:10</h3>
	    <h3 class="col-md-12" style="text-align:left;color:white;">Levon Aronian</h3>
	</div>
    </div>
    <div class="row col-md-5">
        <div class="chessground normal wood cburnett" id="ground7"></div>
        <script>
            (function() {
          var ground;
          var chess = new Chess();
          var onMove = function(orig, dest) {
            chess.move({from: orig, to: dest});
            ground.set({
              turnColor: chessToColor(chess),
              movable: {
                color: chessToColor(chess),
                dests: chessToDests(chess)
              }
            });
            console.log(ground.getFen());
          };
          ground = Chessground(document.getElementById('ground7'), {
            viewOnly: false,
	    //fen: '3r1rk1/p1p3pp/b1p1p1p1/4b3/4p3/4P3/PPPB3P/R2K3R',
	    fen: '3rk3/p1p1Q1p1/b1p1p1N1/8/3Pp3/4P3/P1PK1B1P/1q5r',
            turnColor: 'white',
	    check: 'e8',
            animation: {
              duration: 500
            },
            movable: {
              free: true,
              color: "b oth", //chessToColor(chess),
              premove: true,
              dests: {}, //chessToDests(chess),
              events: {
                after: onMove
              }
            },
            drawable: {
              enabled: true
            }
          });
          window.cg6 = ground;
              ground.setAutoShapes([{
		/*
                orig: 'd4',
                piece: { role: 'queen', color: 'black' }
              }, {
                orig: 'd4',
                brush: 'paleBlue'
		*/
              }]);
        })();
        </script>
    </div>

    <div class="row">
        <div class="chessground normal wood cburnett" style="padding-right:0px;float:right;" id="ground8"></div>
        <script>
            (function() {
          var ground;
          var chess = new Chess();
          var onMove = function(orig, dest) {
            chess.move({from: orig, to: dest});
            ground.set({
              turnColor: chessToColor(chess),
              movable: {
                color: chessToColor(chess),
                dests: chessToDests(chess)
              }
            });
            console.log(ground.getFen());
          };
          ground = Chessground(document.getElementById('ground8'), {
            viewOnly: false,
	    //fen: 'r2q1rk1/p4ppp/2pb1n2/4p3/2Bn4/2NP1P2/PPP1QP1P/R3K1R1',
	    fen: 'r3B1k1/p4Np1/2pb1np1/4p3/6pr/2NP1P2/PPP1nP1P/R3K1R1',
            turnColor: 'black',
	    orientation: 'black',
            animation: {
              duration: 500
            },
            movable: {
              free: true,
              color: chessToColor(chess),
              premove: true,
              dests: chessToDests(chess),
              events: {
                after: onMove
              }
            },
            drawable: {
              enabled: true
            }
          });
              window.cg7 = ground;
        })();
        </script>
    </div>
    <div style="padding-left:15px;position:relative;"> 
	<div style="top:0;position:relative;">
	    <h3 class="col-md-12" style="color:white;">Hikaru Nakamura</h3>
	    <h3>00:48</h3>
	</div>
	<div style=";bottom:0;position:absolute;">
	    <h3>00:36</h3>
	    <h3 class="col-md-12" style="text-align:left;color:white;">Max Dlugy</h3>
	</div>
    </div>
  </div>


  </body>
</html>
